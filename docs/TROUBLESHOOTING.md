# 🔍 WhoReads Troubleshooting Guide

이 문서는 프로젝트 개발 중 발생한 주요 기술적 이슈와 해결 방법을 기록합니다.

## 📋 기록 양식
| 일자 | 제목 | 관련 도메인 | 작성자 |
| :--- | :--- | :--- | :--- |
| 26-01-11 | [DB] Connection Timeout 문제 해결 | Infra | 김서연 |

---

## 📑 주요 이슈 내역

### [Issue #01] 독서 DNA 테스트 가중치 연산 오류
- **현상**: 특정 응답 조합에서 결과값이 100%를 초과하는 현상 발생.
- **원인**: `DnaMatchService`에서 소수점 처리 시 반올림 오차가 누적됨.
- **해결**: 모든 연산을 정수 단위(Integer)로 변경 후 최종 단계에서 퍼센트로 환산하도록 로직 수정.

### [Issue #02] S3 이미지 업로드 권한 오류 (403 Forbidden)
- **현상**: 유명인 가상 서재 커버 이미지 업로드 시 권한 에러 발생.
- **원인**: AWS IAM 사용자의 S3 `PutObject` 권한 누락.
- **해결**: IAM 정책에 해당 버킷의 쓰기 권한 추가 및 환경 변수(`yml`) 최신화.

### [Issue #03] 스낵 알림 FCM 토큰 만료 이슈
- **현상**: 일부 유저에게 스낵 알람이 전송되지 않음.
- **원인**: 앱 재설치 시 갱신된 FCM 토큰이 DB에 반영되지 않음.
- **해결**: 로그인 API 호출 시 FCM 토큰을 항상 동기화하도록 수정.
