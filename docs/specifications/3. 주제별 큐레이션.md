## ① 기능 목적

### 이 기능이 해결하는 사용자 문제

- “지금 내 상황에 맞는 책이 뭔지 모르겠다”
- “베스트셀러 말고, 이 주제를 실제로 겪은 사람들이 읽은 책을 알고 싶다”
- “추천이 너무 많아서 오히려 선택하기 어렵다”

👉 이 기능은

**‘주제(상황)’를 기준으로 책을 묶고, 그 주제를 실제로 경험한 인물들의 독서 인용을 근거로 신뢰 가능한 선택지를 제시**한다.

---

## ② 필요한 핵심 데이터

### A. 주제 정보

| 필드명 | 설명 |
| --- | --- |
| topic_id | 주제 고유 ID |
| topic_name | 주제명 (예: 번아웃, 창업 초기, 커리어 전환) |
| topic_description | 주제 설명 (운영자 작성) |
| topic_tags | 주제 관련 키워드 |

---

### B. 주제–인용–책 연결 데이터

※ **1번(증거 기반 인용) 데이터 재사용**

| 필드명 | 설명 |
| --- | --- |
| quote_id | 인용 ID |
| person_id | 추천 인물 ID |
| person_name | 추천 인물 이름 |
| person_image_url | 추천 인물 이미지 |
| book_id | 책 ID |
| book_title | 책 제목 |
| confidence_score | 인용 신뢰도 점수 |
| context_score | 인용 맥락 점수 |
| source_url | 인용 출처 링크 |
| source_type | 출처 유형 |

---

### C. 주제별 책 카드 집계용 데이터 (내부 계산)

| 항목 | 설명 |
| --- | --- |
| representative_quote_id | 해당 주제·책 조합의 대표 인용 ID |
| representative_person_id | 대표 인물 ID |
| recommenders_count | 해당 주제에서 이 책을 추천한 인물 수 |
| recommenders_person_ids | 추천 인물 ID 리스트 |

📌 **정책**

- 주제 큐레이션에서는 **동일 책(book_id)은 1회만 노출**
- 여러 인물이 추천한 경우:
    - 대표 인물의 인용 1개만 노출
    - 추가 추천 인물 + 총 추천 인원 수를 함께 표시

---

### D. 데이터 성격 구분

- **외부 데이터**
    - 인물 발언 기반 인용 데이터
    - 책 정보
    - 인물 이미지
- **유저 생성 데이터**
    - 없음 (운영 큐레이션 영역)

---

## ③ 데이터 수집 방식

- **수동 입력 (고정)**
    - 운영자가 주제 정의
    - 인용 데이터에 주제(topic_id) 태깅
    - 인물·책·인용 연결 관계 관리

📌 주제는 많기보다 **사용자가 실제로 겪는 ‘상황 단위**’로 선별하는 것이 중요

---

## ④ 세부 기능 목록

### A. 화면에 보이는 것

### 1️⃣ 주제 탐색 화면

- 주제 카드
    - 주제명
    - 한 줄 설명
    - 관련 키워드

---

### 2️⃣ 주제 상세 화면

**책 카드 구성(1책 = 1카드)**

- 책 제목
- **대표 인물의 인용 원문** (말줄임표 적용)
- **추천 정보 표시**
    - 예: `일론 머스크 외 7명 (총 8명)`
- **추가 추천 인물 미리보기**
    - 프로필 이미지 + 이름 (최대 N명)
    - “더보기” 클릭 시 전체 추천자 리스트 표시
- “출처 확인” 버튼

  → 대표 인용 기준


---

### B. 내부 로직

### 1️⃣ 책 그룹핑 로직

- topic_id 기준 필터
- book_id 기준으로 인용 데이터 그룹핑
- 추천 인원 수 = distinct person_id count

---

### 2️⃣ 대표 인용 선정 로직

동일 책에 여러 인용이 있을 경우, 아래 순서로 1개 선택:

1. confidence_score 높은 인용
2. context_score 높은 인용
3. 출처 신뢰도 (video > interview > sns > article)
4. 최신 source_date

→ 선정된 인용의 person_id가 **대표 인물**

---

### 3️⃣ 책 정렬 로직

- 1차: 해당 주제에서의 context_score ↓ (내림차순)
- 2차: confidence_score ↓ (내림차순)
- 3차: recommenders_count ↓ (내림차순)

👉 **“이 주제에 실제로 도움이 된 책”이 위로 올라옴**

---

### 4️⃣ 다른 기능과의 연결

- 인물 중심 탐색(가상 서재) → “이 인물은 이 주제에서 이 책을 읽음”
- 개인 서재(추후) → 사용자가 관심 설정한 주제 기반 추천