### 1️⃣ 로그인 방식 정책

| 항목 | 정책 내용 | 비고 |
| --- | --- | --- |
| 로그인 방식 | **이메일 + 비밀번호 로그인만 제공** | 소셜 로그인 미사용 |
| 회원가입 방식 | 이메일 입력 후 비밀번호 설정 | 이메일은 유니크 |
| 자동 로그인 | 토큰 기반 로그인 유지 | 만료 시 재로그인 |
| 로그아웃 | 토큰 즉시 무효화 | 모든 기기 적용 가능 |

---

### 2️⃣ 이메일 입력 정책

| 항목 | 정책 내용 | 목적 |
| --- | --- | --- |
| 형식 검증 | 이메일 형식 검증 필수 | 입력 오류 방지 |
| 정규화 | 소문자 변환 후 저장 | 중복 방지 |
| 공백 처리 | 앞/뒤 공백 자동 제거 | UX 개선 |
| 중복 정책 | 이메일 유니크 | 계정 식별 |
| 에러 메시지 | “이메일 또는 비밀번호가 올바르지 않습니다” | 보안(계정 추측 방지) |

---

### 3️⃣ 비밀번호 입력 정책

| 항목 | 정책 내용 | 목적 |
| --- | --- | --- |
| 최소 길이 | 8자 이상 | 기본 보안 |
| 구성 | 영문 + 숫자 조합 권장 | 사용성 고려 |
| 공백 | 공백 포함 불가 | 입력 안정성 |
| 이메일 동일 | 이메일과 동일한 문자열 불가 | 보안 |
| 저장 방식 | 해시 저장 (원문 저장 금지) | 필수 보안 정책 |

---

### 4️⃣ 비밀번호 확인 / 재설정 정책

| 항목 | 정책 내용 | 비고 |
| --- | --- | --- |
| 비밀번호 확인 | 회원가입 시 동일 입력 필수 | 불일치 시 가입 불가 |
| 비밀번호 찾기 | 이메일로 재설정 링크 발송 | 자동화 |
| 재설정 링크 | 1회 사용 + 만료 시간 설정 | 예: 30분 |
| 재설정 비밀번호 | 기존 비밀번호와 동일 불가 | 보안 강화 |

---

### 5️⃣ 로그인 시도 제한 정책

| 항목 | 정책 내용 | 목적 |
| --- | --- | --- |
| 실패 횟수 제한 | N회 이상 실패 시 제한 | brute force 방지 |
| 제한 방식 | 일정 시간 로그인 차단 | 또는 캡차 |
| 기준 | 계정 또는 IP 기준 | 구현 선택 |

---

### 6️⃣ 세션 / 토큰 정책

| 항목 | 정책 내용 | 비고 |
| --- | --- | --- |
| 인증 방식 | Access Token 기반 | 앱 기준 |
| 토큰 저장 | Secure Storage 사용 | iOS Keychain 등 |
| 만료 처리 | 만료 시 자동 로그아웃 | 또는 재인증 |
| 로그아웃 | 토큰 즉시 폐기 | 보안 |

---

### 7️⃣ iOS 앱스토어 심사 기준 대응 정책 (중요)

| 심사 항목 | 정책 | 심사 대응 포인트 |
| --- | --- | --- |
| 로그인 필수 여부 | **개인 데이터 기능 사용 시 로그인 필수** | 서재/기록 보호 목적 |
| 소셜 로그인 미제공 | 이메일 로그인만 제공 | ❌ 문제 아님 |
| Apple 로그인 | **필수 아님** | 소셜 로그인 제공 시에만 필수 |
| 계정 삭제 | 앱 내 계정 삭제 경로 제공 | 설정 화면 내 제공 |
| 개인정보 | 이메일 외 최소 수집 | Privacy 정책 명시 |

📌 핵심 정리

- **이메일 로그인만 사용하는 것은 App Store 정책 위반 아님**
- 단,
    - 로그인 이유가 명확해야 함 (개인 서재, 기록 저장 등)
    - 계정 삭제 기능은 앱 내부에 존재해야 함

---

(백엔드 보기 편하라고 기록)

이메일 인증, JWT 기반