# 🏠 내 서재 (My Library)

---

# 5-1️⃣ 프로필

---

## ① 기능 목적

### 이 기능이 해결하는 사용자 문제

- “이 서비스에서 나는 어떤 사람이지?”
- “나와 비슷한 독서 맥락의 기준점이 필요하다”
- “내 독서 상태를 한눈에 보고 싶다”

👉 이 기능은

**사용자의 독서 정체성을 한 화면에 정리해 준**다.

---

## ② 필요한 핵심 데이터

### A. 사용자 기본 정보

| 필드명 | 설명 |
| --- | --- |
| user_id | 사용자 고유 ID |
| dna_type_id | 독서 DNA 유형 |
| dna_type_name | 독서 DNA 이름 |
| joined_at | 가입 시점 |

---

### B. 선택한 유명인 프로필

| 필드명 | 설명 |
| --- | --- |
| selected_person_id | 사용자가 선택한 기준 인물 ID |
| selected_person_name | 기준 인물 이름 |
| selected_person_image_url | 기준 인물 이미지 |

---

### C. 독서 요약 데이터 (집계)

| 항목 | 설명 |
| --- | --- |
| wish_count | 담아둔 책 수 |
| reading_count | 읽는 중 책 수 |
| done_count | 다 읽음 책 수 |

---

## ③ 데이터 수집 방식

- **수동 입력**
    - 독서 DNA 테스트 결과
    - 기준 인물 선택
- **자동 집계**
    - 독서 기록 상태 기반 계산

---

## ④ 세부 기능 목록

### A. 화면에 보이는 것

- 독서 DNA 유형 + 설명
- 선택한 유명인 프로필 카드
- 독서 상태 요약(담아둠 / 읽는 중 / 다 읽음)

---

### B. 내부 로직

- 기준 인물은 언제든 변경 가능
- 한 문장 미리보기는:
    - 최신 수집 문장 또는
    - 사용자가 지정한 대표 문장

---

# 5-2️⃣ 독서 기록

---

## ① 기능 목적

### 이 기능이 해결하는 사용자 문제

- “읽고 싶은 책과 읽고 있는 책이 섞여 있다”
- “독서가 진행되고 있는지 감이 안 온다”

---

## ② 필요한 핵심 데이터

### 사용자–책 관계 데이터

| 필드명 | 설명 |
| --- | --- |
| user_book_id | 사용자–책 관계 ID |
| user_id | 사용자 ID |
| book_id | 책 ID |
| book_title | 책 제목 |
| book_cover_url | 책 표지 |
| reading_status | 독서 상태 |
| updated_at | 상태 변경 시점 |

### reading_status 값

- `wish` 담아둠
- `reading` 읽는 중
- `done` 다 읽음

---

## ③ 데이터 수집 방식

- **사용자 수동 행동**
    - 책 저장
    - 상태 변경

---

## ④ 세부 기능 목록

### A. 화면에 보이는 것

- 독서 상태 탭
    - 담아둠 / 읽는 중 / 다 읽음
- 책 카드 리스트
    - 표지
    - 제목
    - 현재 상태

---

### B. 내부 로직

- 상태는 언제든 변경 가능

---

# 5-3️⃣ 독서 타임

---

## ① 기능 목적

### 이 기능이 해결하는 사용자 문제

- “타이머는 켰는데 결국 핸드폰을 보게 된다”
- “집중하려고 했지만 알림·SNS 때문에 흐름이 깨진다”
- “읽은 시간보다 방해받은 시간이 더 많은 것 같다”

👉 이 기능은

**독서 시간을 ‘의지’가 아니라 ‘환경’으로 보호**해 사용자가 **핸드폰 유혹 없이 독서에 몰입**할 수 있도록 돕는다.

즉,

> 시간을 재는 타이머가 아니라 *집중을 강제하는 독서 모드*다.
>

---

## ② 필요한 핵심 데이터

### A. 독서 세션 데이터 (핵심)

| 필드명 | 설명 |
| --- | --- |
| session_id | 독서 세션 고유 ID |
| user_id | 사용자 ID |
| started_at | 독서 시작 시점 |
| ended_at | 독서 종료 시점 |
| duration | 실제 독서 시간 |
| ended_by | 종료 방식 (`auto` / `manual`) |

📌 **중요 정책**

- 타이머를 끝까지 채우지 않아도 → 종료 시점까지의 시간은 **모두 정상 독서 기록**

---

### B. 집중 차단 모드 상태 데이터

| 필드명 | 설명 |
| --- | --- |
| focus_lock_enabled | 집중 차단 모드 사용 여부 |
| blocked_app_list | 차단 대상 앱 목록 |
| lock_started_at | 차단 시작 시점 |
| lock_ended_at | 차단 종료 시점 |

📌 기본 정책

- 독서 타이머 시작 시 **집중 차단 모드 자동 활성화**
- 종료 시 자동 해제

---

### C. 누적 독서 시간 데이터 (집계)

| 항목 | 설명 |
| --- | --- |
| total_reading_time | 전체 누적 독서 시간 |
| daily_reading_time | 오늘 누적 독서 시간 |
| weekly_reading_time | 이번 주 누적 독서 시간 |

---

### D. 집중 환경 설정 데이터

| 필드명 | 설명 |
| --- | --- |
| focus_timer_minutes | 설정한 독서 시간 |
| white_noise_type | 백색 소음 종류 |
| is_white_noise_on | 소음 사용 여부 |

---

## ③ 데이터 수집 방식

- **자동 기록**
    - 타이머 시작 → 독서 세션 생성
    - 타이머 종료 → duration 계산 및 저장
- **시스템 제어**
    - 타이머 시작 시 → 집중 차단 모드 ON
    - 타이머 종료 시 → 집중 차단 모드 OFF

---

## ④ 세부 기능 목록

---

### A. 화면에 보이는 것

---

### 1️⃣ 독서 타임 메인 화면 (집중 화면)

**핵심 목적: 핸드폰을 못 쓰게 만들고, 책만 남긴다**

구성 요소:

- 포커스 타이머
- 남은 시간 표시
- 종료 버튼(의도적 행동 필요)
- 백색 소음 ON/OFF 표시
- **“집중 모드 활성화 중” 안내 문구**

📌 이 화면에서는

- 다른 화면 이동 제한
- 알림 미노출
- 홈 제스처 최소화

---

### 2️⃣ 독서 기록 화면 (누적 시간 확인)

**핵심 목적: 읽은 시간이 쌓이고 있음을 보여준다**

노출 정보:

- 오늘 / 이번 주 / 전체 누적 독서 시간
- 최근 독서 세션 리스트
    - 날짜
    - 독서 시간
    - 종료 방식(아이콘)

---

### 3️⃣ 화면 전환 구조 (IA)

### 햄버거 메뉴

- 기본 진입: 집중 화면
- 메뉴:
    - 독서 기록
    - 누적 시간 통계

📌 **집중 방해 최소화를 위해**

- 기록 화면은 **의도적 행동**으로만 접근 가능

---

### B. 내부 로직

---

### 1️⃣ 집중 차단 모드 로직 (핵심)

- 독서 타이머 시작 시:
    - 앱 외부 사용 제한 활성화
    - 차단 앱 접근 시 안내 화면 노출

      > “지금은 독서 시간이에요”
>
- 독서 타이머 종료 시:
    - 차단 모드 자동 해제
    - 정상 사용 복귀

📌 **열품타와 동일한 개념**

- 집중 시간 동안: SNS, 메신저, 브라우저 등 접근 불가

  (구현 방식은 OS 권한 범위 내에서 결정)


---

### 2️⃣ 독서 세션 저장 로직

- 종료 방식과 무관하게:
    - session 저장
    - duration 누적

---

### 3️⃣ 누적 시간 계산 로직

- 모든 session.duration 합산
- 일/주/전체 단위 집계

---

# 5-4️⃣ 설정

---

## ① 기능 목적

### 이 기능이 해결하는 사용자 문제

- “독서 루틴을 만들고 싶다”
- “알림이 너무 많거나 적다”
- “계정 정보를 관리하고 싶다”

👉 이 기능은 **독서를 ‘내 생활 리듬’에 맞게 조정**하게 돕는다.

---

## ② 필요한 핵심 데이터

### A. 독서 루틴 알림 설정

| 필드명 | 설명 |
| --- | --- |
| reminder_enabled | 알림 사용 여부 |
| reminder_days | 알림 요일 |
| reminder_time | 알림 시간 |

---

### B. 계정 관리 데이터

| 필드명 | 설명 |
| --- | --- |
| email | 이메일 |
| auth_provider | 로그인 방식 |
| created_at | 가입일 |

---

## ③ 데이터 수집 방식

- **수동 입력**
    - 알림 설정
    - 계정 관리

---

## ④ 세부 기능 목록

### A. 화면에 보이는 것

- 독서 루틴 알림 설정
- 계정 정보 확인
- 로그아웃

---

### B. 내부 로직

- 알림은 설정된 요일/시간에만 발송
- 계정 삭제 시 사용자 데이터 비식별 처리